# WebEngine as a Container - concept

WEaaC (WebEngine as a Container) gives you infinite technical choices

# Concept Story

今のWebは進化しているが、結局は各大手企業やコミュニティが開発したWebブラウザーのうち、ユーザーがどれを選んでいるか、その統計結果によって、コンテンツ・サービス提供側は使用できる技術を事実上制限されている。
大半のブラウザが対応する、潮目を見なければ新技術を使えない。

そもそも、なぜ２０１７年にもなって世界はそんな状況なのだ？
周りは皆 Docker, Dockerなどと叫んでいるではないか。

そこで、私はWEaaC(WebEngine as az Container)という技術枠組みのアイデアを提案する。

各社のWebブラウザの中核部分であるWeb Engineは最近は別個に開発されている。
そのWebEngineを一種のコンテナーとして、広く流通、インターネット上に公開状態にすれば良い。

それを、サービス・コンテンツの提供側は、コンテンツのweaac.jsonに自分たちのコンテンツを再生するのに最も適したWeb Engineの種類とバージョンを記述しておく。

各ユーザーのPCには、weaac.jsonを解釈し、適切なWebEngineをダウンロードするランチャーがすでにインストールされている（あるいは、容易に入手できる）。

こうすることで、ユーザーのPCには常にサービス・コンテンツ提供者側が望んでいるブラウザがインストールされていることが常に保証される。つまり、迷わず最新の機能（場合によってはベータ版実装でも、自分たちのコンテンツで動くなら）を使うことができるのだ。

そもそも、Webブラウザの実装など、現在、世に知られているような「よくある」設計や実装である必要がどこにあるというのだ。HTMLやJavaScriptを解釈できるなら、ゲームエンジンが3D APIで全てのWebUIを描画したって構わないのではないか？

さらに提案しよう。私の次のアイデアは、いわば「Web実装におけるOSI参照モデル」だ。

HTMLやCSSを解釈する部分、JavaScriptの実行エンジン、さらに、WebUIを描画する描画エンジン（よくある実装技術でもいいし、いっそVulkanやレイトレーシングで実装したっていいんだよ？）、通信部分（https2とか）、あらゆる部分を部品化してしまうのだ。

これらのコンポーネントを、すべてnpmやConan（C/C++のパッケージマネージャだ。知ってたかい？）でかき集めて、みんな好きにWebEngineを作ったっていいんだ。もちろん、その上で動作する、ブックマーク機能やらプライベート機能やら、そういうのだってコンポーネントが出てくるだろう。
（インターフェースやプロトコルさえ標準化しておけば、これらのコンポーネントは入れ替えてもそのまま動作する）

つまり、この構想が実現すれば、近い将来に、優秀な小学生が夏休みの宿題でWebブラウザを作ってきたっておかしくないわけだ。
ちなみに、各コンポーネントを分離することによるパフォーマンスの問題とかはこの際どうでもいい。解決する技術など、人類は今までいくらでも開発してきたのだから。

この構想の世界においては、「実装の詳細」や「各ブラウザのサポート率」など、そんな細かいことに縛られることがなくなる。

ん？　まてよ？　そもそもどうして俺たちは「〜ブラウザがついに〜を実装！」とか「やった！〜ブラウザがついに死んだぞ！」「全てはWeb化する！」なんて叫んでいるんだ？

「Web」は確かに重要だ。（私の信念によれば、世間一般的な意味での「Webブラウザ」は重要ではない）
それは、社会にインフラが大抵あって、みんなが等しく使えるという意味で、世界の共通ベースだから。
しかも、各技術は基本的には入れ替えが可能だ。
（IPネットワーク上でなくても、銀行のATMのネットワークでだって、やろうと思えばWebを動かせるだろう）

HTMLとJavaScript（に代表される実行言語）やHTTP、こうした最低限のベースさえ整っていれば、それらの実装技術などどうでもいいと私は考えている（各コンポーネントのユニーク指定とオンライン上での入手可能性を保証することだけは頑張らないといけないが）。

この構想が仮に走り出せば、そもそもHTMLでなくてJSXや他のオリジナルマークアップ言語、オレオレスクリプト言語（もちろんWebAssemblyは即、役立つだろう）、そして（神が設計したかのごとく洗練された）オリジナルスタイルシート言語を、サービスやコンテンツ提供者側がいちいちトランスパイルする必要すらなくなるかもしれない。

つまり、そこに至れば、もはや「Webは思想でさえあればいい」ということになる。

# Related Ideas

## WEaaCによるグレイスフル デグラデーション機能

サービス・コンテンツ提供者が、最適なブラウザを常に指定できるのだとすれば、もはや制約はユーザーのハードウェアの機能や性能だけとなる。
そこで、提供者側が見繕った（または、世の中的にベストプラクテティス的なテンプレートとして）「こういう世代・またはタイプのハードウェアの場合は、これらのコンポーネントセットを代用することで、「それなりに再生できる」ようにする。
今は、その役割を各種ライブラリやWebブラウザが担っているが、正直言って、そのせいで皆肥大化してばかりだ。この仕組みが世に受け入れられれば、各種ライブラリやWebEngineを構成する各種コンポーネントは、もっとダイエットできる。

# 気をつけなければならないこと

様々な技術的な選択肢が可能となるこの構想だが、開発手法があまりにも多様化しすぎると、開発ノウハウの共有化が難しくなるというデメリットはあるだろう。中にはゲームコンソールAPIを叩くかのような開発スタイルでWebコンテンツが作れても面白いとは思うが、そのやり方を本に書いたとしても、「ちょっとコーディングに挑戦したいデザイナー」たちは、あなたの本を素通りしていくにちがいない。
ここらへんの落とし所は考えたいところだ。

# Help!

どなたか、この文章を綺麗に翻訳してくれる方いらっしゃると嬉しいです。また、他の場所にURLをシェアしてくれると嬉しい。
